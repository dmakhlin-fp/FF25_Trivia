<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shipping Trivia Loop</title>

  <!-- Preload fonts -->
  <link rel="preload" href="Fonts/Antenna-BlackItalic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="Fonts/GT-America-Standard-Medium.woff2" as="font" type="font/woff2" crossorigin>

  <style>
    @font-face {
      font-family: 'Antenna-BlackItalic';
      src: url('Fonts/Antenna-BlackItalic.woff2') format('woff2'),
           url('Fonts/Antenna-BlackItalic.woff') format('woff');
      font-weight: 900;
      font-style: italic;
      font-display: swap;
    }

    @font-face {
      font-family: 'GT-America-Standard-Medium';
      src: url('Fonts/GT-America-Standard-Medium.woff2') format('woff2'),
           url('Fonts/GT-America-Standard-Medium.woff') format('woff');
      font-weight: 500;
      font-style: normal;
      font-display: swap;
    }

    body {
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      width: 100vw;
      overflow: hidden;
      background: linear-gradient(270deg, #31B8E9, #F7BEA8, #31B8E9);
      background-size: 600% 600%;
      animation: GradientShift 30s ease infinite;
      color: #052439;
    }

    @keyframes GradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .trivia-container {
      width: 1728px;
      height: 960px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      opacity: 0;
      transition: opacity 2s ease;
      padding: 2rem;
      box-sizing: border-box;
    }

    .trivia-container.visible { opacity: 1; }

    .question {
      font-family: 'Antenna-BlackItalic', sans-serif !important;
      font-size: 3rem;
      text-transform: uppercase;
      line-height: 1.3;
      max-width: 80%;
      text-align: center;
      margin: 0 auto 3rem;
      text-wrap: balance; /* NEW */
    }

    .answers {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem 4rem;
      width: 100%;
      max-width: 1200px;
      justify-content: center;
      align-items: center;
    }

    .answer {
      font-family: 'GT-America-Standard-Medium', sans-serif !important;
      font-size: 1.6rem;
      color: #052439;
      background: #FFEB56;
      border-radius: 50px;
      padding: 1rem 1.5rem;
      min-width: 350px;
      min-height: 70px;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 3s ease;
      text-align: center;
      text-wrap: balance; /* NEW */
    }

    .fade-out { opacity: 0; }
  </style>
</head>
<body>
  <div class="trivia-container" id="trivia">
    <div class="question" id="question"></div>
    <div class="answers" id="answers"></div>
  </div>

  <script>
    // ✅ Widow-fix helper: replaces last space with &nbsp;
    function preventWidow(text) {
      return text.replace(/\s+([^\s]+)$/, '\u00A0$1');
    }

    const questions = [
      { q: "Which city is the world's busiest container port?", a: ["Rotterdam","Shanghai","Singapore","Los Angeles"], c: 1 },
      { q: "Which country built the Belt and Road Initiative affecting shipping?", a: ["USA","Germany","China","India"], c: 2 },
      { q: "Which port is the largest in Europe?", a: ["Antwerp","Rotterdam","Hamburg","Marseille"], c: 1 },
      { q: "Which port is the busiest in the United States?", a: ["Miami","New York/New Jersey","Los Angeles","Houston"], c: 2 },
      { q: "In what year was the very first standardized container shipment sent?", a: ["1904","1938","1956","1962"], c: 2 },
      { q: "Why do some reefer containers require zinc anodes to be replaced?", a: ["To prevent bacteria growth in insulation","To protect against galvanic corrosion in cooling pipes","To maintain refrigeration gas pressure","To comply with IMO sulfur regulations"], c: 1 },
      { q: "Why do certain ports (e.g., Singapore, Rotterdam) charge 'light dues' on vessels?", a: ["To fund harbor dredging","To subsidize seafarer wages","To maintain lighthouses and navigation aids","To cover anti-piracy patrols"], c: 2 },
      { q: "Why do airlines sometimes restrict cargo in summer?", a: ["Seasonal demand drops","Heat reduces lift, limiting payload","Aircraft fuel expands in heat","Airport handling equipment malfunctions"], c: 1 },
      { q: "Which freighter has a flip-up nose door for oversized cargo?", a: ["Airbus Beluga","Boeing 747-400F/8F","Antonov An-225","Lockheed C-5 Galaxy"], c: 1 },
      { q: "What portion of global air freight normally travels in passenger aircraft bellies?", a: ["10–20%","20–45%","45–60%","70–80%"], c: 2 },
      { q: "What is the longest commercial flight in the world?", a: ["Singapore to New York","Auckland to Doha","Dallas to Sydney","Paris to London"], c: 0 },
      { q: "What unusual commodity once dominated Kenya-to-Europe air charters?", a: ["Coffee beans","Fresh-cut flowers","Exotic hardwood","Tea leaves"], c: 1 },
      { q: "Which company pioneered the integrated express hub-and-spoke air-ground system in 1973?", a: ["UPS","FedEx","DHL","Emery Worldwide"], c: 1 },
      { q: "On average, what percentage of e-commerce orders are returned — making reverse logistics a last-mile challenge?", a: ["5–7%","10–15%","20–30%","40–50%"], c: 2 },
      { q: "Which port is often ranked the most efficient in the world (containers per crane per hour)?", a: ["Port of Shanghai","Port of Rotterdam","Port of Yokohama","Port of Tanjung Pelepas"], c: 2 },
      { q: "Which unusual cargo was once moved in bulk by container from Australia to Japan?", a: ["Kangaroo meat","Bottled seawater","Sand for golf courses","Live penguins"], c: 2 },
      { q: "What percentage of the world’s containers are estimated to be lost at sea each year?", a: ["Less than 100","About 500","1,500–2,000","10,000+"], c: 2 },
      { q: "Which port is often cited as the oldest continuously operating port in the world?", a: ["Port of Alexandria, Egypt","Port of Byblos, Lebanon","Port of Venice, Italy","Port of Guangzhou, China"], c: 1 },
      { q: "Which is considered one of the longest regular ocean freight services in the world?", a: ["Shanghai → Los Angeles","Rotterdam → Singapore","New York → Cape Town","Buenos Aires → Yokohama"], c: 3 },
      { q: "What’s currently the longest nonstop air cargo flight (by distance)?", a: ["Hong Kong → New York","Dubai → Los Angeles","Singapore → New York","Sydney → London"], c: 2 },
      { q: "What’s the most widely shipped refrigerated commodity by ocean freight?", a: ["Frozen fish","Bananas","Beef","Dairy products"], c: 1 },
      { q: "Which frozen commodity often travels by sea in blocks of 25 tons?", a: ["Ice cream","Frozen chicken","Tuna","Lobster"], c: 2 },
      { q: "Around Valentine’s Day, how many tons of flowers fly daily from South America to the U.S.?", a: ["100 tons","400 tons","1,000 tons","5,000 tons"], c: 2 },
      { q: "Approximately how many TEUs cross the Pacific Ocean each year?", a: ["~10 million","~25 million","~40–50 million","~70–90 million"], c: 2 },
      { q: "Approximately how many TEUs cross the Atlantic Ocean each year?", a: ["~5–10 million","~15–25 million","~30–40 million","~50–60 million"], c: 1 },
      { q: "What is the single largest import commodity into the U.S. by value?", a: ["Automobiles/parts","Crude oil/petroleum","Pharmaceuticals","Electronics (computers, phones, TVs)"], c: 3 },
      { q: "How many 10-digit codes exist in the U.S. Harmonized Tariff Schedule (HTSUS)?", a: ["~5,000","~10,000","~17,000","~22,000"], c: 3 },
      { q: "What is the number one export commodity from the U.S. by value?", a: ["Aircraft/aerospace equipment","Crude oil/petroleum","Semiconductors/electronics","Agricultural products"], c: 1 },
      { q: "Which countries face the highest rates of duty under the HTSUS?", a: ["Belarus","Cuba","North Korea","Russia","All of the above"], c: 4 },
      { q: "Which country does not have a Bilateral Free Trade Agreement with the U.S.?", a: ["Australia","Bahrain","Chile","Morocco","South Africa"], c: 4 },
      { q: "Which commodities are subject of a U.S. national security investigation?", a: ["Jet Engines","Timber","Scrap copper","Permanent Magnets","All of the above"], c: 4 },
      { q: "U.S. sales to businesses in which country are considered 'domestic' under Customs?", a: ["Puerto Rico","U.S. Virgin Islands","Guam","Northern Marianas","None"], c: 0 },
      { q: "Which container steamship line is the largest by fleet capacity as of Oct 2025?", a: ["CMA-CGM","Maersk","Mediterranean Shipping Company (MSC)","ONE","Hyundai"], c: 2 },
      { q: "This law, the Merchant Marine Act of 1920, requires ships in U.S. coastal trade be U.S.-built/owned.", a: ["Moore’s Law","Jones Act","Carriage of Goods by Sea Act (COGSA)","Ocean Shipping Reform Act (OSRA)","Murphy’s Law"], c: 1 }
    ];

    let currentIndex = 0;

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function showQuestion(index) {
      const trivia = document.getElementById("trivia");
      trivia.classList.remove("visible");

      setTimeout(() => {
        const q = questions[index];
        document.getElementById("question").innerHTML = preventWidow(q.q);

        let answerObjects = q.a.map((ans, i) => ({
          text: ans,
          isCorrect: i === q.c
        }));

        answerObjects = shuffleArray(answerObjects);

        const answersDiv = document.getElementById("answers");
        answersDiv.innerHTML = "";

        answerObjects.forEach((ans) => {
          const div = document.createElement("div");
          div.className = "answer";
          div.innerHTML = preventWidow(ans.text);
          if (ans.isCorrect) div.dataset.correct = true;
          answersDiv.appendChild(div);
        });

        trivia.classList.add("visible");

        setTimeout(() => {
          document.querySelectorAll(".answer").forEach(el => {
            if (!el.dataset.correct) el.classList.add("fade-out");
          });
        }, 10000);

        setTimeout(() => {
          currentIndex = (currentIndex + 1) % questions.length;
          showQuestion(currentIndex);
        }, 20000);

      }, 2000);
    }

    showQuestion(currentIndex);
  </script>
</body>
</html>
